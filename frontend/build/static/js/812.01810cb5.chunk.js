(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[812],{6996:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return L}});var n=s(1413),r=s(70885),a=s(72791),i=s(16030),c=s(56960),l=s(62129),o=s(91139),u=s(10295),d=s(15861),m=s(87757),f=s.n(m),x=s(43504),p=s(94487),h=s(74588),b=s(48950),j=s(47455),g=s(74569),v=s.n(g),w=s(72426),N=s.n(w),y=s(80184),k=function(e){var t=e._id,s=e.caption,n=e.likes,c=e.comments,o=e.image,u=e.postedBy,m=e.savedBy,g=e.createdAt,w=e.setUsersDialog,k=e.setUsersList,Z=(0,i.I0)(),S=(0,a.useRef)(null),A=(0,i.v9)((function(e){return e.user})).user,C=(0,a.useState)(n),U=(0,r.Z)(C,2),T=U[0],E=U[1],_=(0,a.useState)(c),F=(0,r.Z)(_,2),I=F[0],M=F[1],O=(0,a.useState)(m),P=(0,r.Z)(O,2),D=P[0],L=P[1],R=(0,a.useState)(!1),B=(0,r.Z)(R,2),H=B[0],Y=B[1],z=(0,a.useState)(!1),J=(0,r.Z)(z,2),V=J[0],W=J[1],q=(0,a.useState)(""),G=(0,r.Z)(q,2),Q=G[0],X=G[1],K=(0,a.useState)(!1),$=(0,r.Z)(K,2),ee=$[0],te=$[1],se=(0,a.useState)(!1),ne=(0,r.Z)(se,2),re=ne[0],ae=ne[1],ie=(0,a.useState)(!1),ce=(0,r.Z)(ie,2),le=ce[0],oe=ce[1],ue=function(){var e=(0,d.Z)(f().mark((function e(){var s,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!H),e.next=3,Z((0,l.n9)(t));case 3:return e.next=5,v().get("/api/v1/post/detail/".concat(t));case 5:s=e.sent,n=s.data,E(n.post.likes);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=(0,d.Z)(f().mark((function e(s){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.next=3,Z((0,l.Ir)(t,Q));case 3:return X(""),e.next=6,v().get("/api/v1/post/detail/".concat(t));case 6:n=e.sent,r=n.data,M(r.post.comments);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=(0,d.Z)(f().mark((function e(){var s,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!V),e.next=3,Z((0,l.TJ)(t));case 3:return e.next=5,v().get("/api/v1/post/detail/".concat(t));case 5:s=e.sent,n=s.data,L(n.post.savedBy);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){Y(T.some((function(e){return e._id===A._id})))}),[T]),(0,a.useEffect)((function(){W(D.some((function(e){return e===A._id})))}),[D]),(0,y.jsxs)("div",{className:"flex flex-col border rounded bg-white relative",children:[(0,y.jsxs)("div",{className:"flex justify-between px-3 py-2.5 border-b items-center",children:[(0,y.jsxs)("div",{className:"flex space-x-3 items-center",children:[(0,y.jsx)(x.rU,{to:"/".concat(u.username),children:(0,y.jsx)("img",{draggable:"false",className:"w-10 h-10 rounded-full object-cover",src:u.avatar,alt:"avatar"})}),(0,y.jsx)(x.rU,{to:"/".concat(u.username),className:"text-black text-sm font-semibold",children:u.username})]}),(0,y.jsx)("span",{className:"cursor-pointer",children:h.hf})]}),(0,y.jsxs)("div",{className:"relative flex items-center justify-center",onDoubleClick:function(){oe(!0),setTimeout((function(){oe(!1)}),500),H||ue()},children:[(0,y.jsx)("img",{draggable:"false",loading:"lazy",className:"w-full h-full object-cover object-center",src:o,alt:"post image"}),le&&(0,y.jsx)("img",{draggable:"false",height:"80px",className:"likeEffect",alt:"heart",src:"https://img.icons8.com/ios-filled/2x/ffffff/like.png"})]}),(0,y.jsxs)("div",{className:"flex flex-col px-4 space-y-1 border-b pb-2 mt-2",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,y.jsxs)("div",{className:"flex space-x-4",children:[(0,y.jsx)("button",{onClick:ue,children:H?p.Uw:h.XO}),(0,y.jsx)("button",{onClick:function(){return S.current.focus()},children:h.CN}),h.Si]}),(0,y.jsx)("button",{onClick:me,children:V?h.wM:h.x0})]}),(0,y.jsxs)("span",{onClick:function(){w(!0),k(T)},className:"font-semibold text-sm cursor-pointer",children:[T.length," likes"]}),(0,y.jsxs)("div",{className:"flex flex-auto items-center space-x-1",children:[(0,y.jsx)(x.rU,{to:"/".concat(u.username),className:"text-sm font-semibold hover:underline",children:u.username}),(0,y.jsx)("span",{className:"text-sm truncate",children:s})]}),I.length>0?(0,y.jsx)("span",{onClick:function(){return te(!ee)},className:"text-[13px] text-gray-500 cursor-pointer",children:ee?"Hide Comments":1===I.length?"View ".concat(I.length," Comment"):"View All ".concat(I.length," Comments")}):(0,y.jsx)("span",{className:"text-[13px] text-gray-500",children:"No Comments Yet!"}),(0,y.jsx)("span",{className:"text-xs text-gray-500 cursor-pointer",children:N()(g).fromNow()}),ee&&(0,y.jsx)(j.ZP,{className:"w-full h-52 overflow-y-auto py-1",children:I.map((function(e){return(0,y.jsxs)("div",{className:"flex items-start mb-2 space-x-2",children:[(0,y.jsx)("img",{draggable:"false",className:"h-7 w-7 rounded-full object-cover mr-0.5",src:e.user.avatar,alt:"avatar"}),(0,y.jsx)(x.rU,{to:"/".concat(e.user),className:"text-sm font-semibold hover:underline",children:e.user.username}),(0,y.jsx)("p",{className:"text-sm",children:e.comment})]},e._id)}))})]}),(0,y.jsxs)("form",{onSubmit:de,className:"flex items-center justify-between p-3 w-full space-x-3",children:[(0,y.jsx)("span",{onClick:function(){return ae(!re)},className:"cursor-pointer",children:h._1}),re&&(0,y.jsx)("div",{className:"absolute bottom-12 -left-2",children:(0,y.jsx)(b.cW,{set:"google",onSelect:function(e){return X(Q+e.native)},title:"Emojis"})}),(0,y.jsx)("input",{className:"flex-auto text-sm outline-none border-none bg-transparent",type:"text",value:Q,ref:S,required:!0,onFocus:function(){return ae(!1)},onChange:function(e){return X(e.target.value)},placeholder:"Add a comment..."}),(0,y.jsx)("button",{type:"submit",className:"".concat(Q.trim().length<1?"text-blue-300":"text-primary-blue"," text-sm font-semibold"),disabled:Q.trim().length<1,children:"Post"})]})]})},Z=s(95717),S=(s(53037),s(28688),s(53585)),A=function(){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(Z.Z,(0,n.Z)((0,n.Z)({},{dots:!1,infinite:!1,speed:500,slidesToShow:7.5,slidesToScroll:3,responsive:[{breakpoint:1050,settings:{slidesToShow:5,slidesToScroll:3}},{breakpoint:400,settings:{slidesToShow:4,slidesToScroll:2}}]}),{},{className:"w-full bg-white pt-2.5 pb-1 px-2.5 flex overflow-hidden border rounded",children:S.O.map((function(e,t){return(0,y.jsxs)("div",{className:"flex flex-col text-center justify-center items-center p-2 cursor-pointer",children:[(0,y.jsx)("div",{className:"w-16 p-[1px] h-16 rounded-full border-2 border-red-500",children:(0,y.jsx)("img",{loading:"lazy",className:"rounded-full h-full w-full border border-gray-300 object-cover",src:s(17487)("./".concat(e.image,".webp")),draggable:"false",alt:"story"})}),(0,y.jsx)("span",{className:"text-xs",children:e.title})]},t)}))}))})},C=s(14771),U=s(73356),T=s(47047),E=function(){return(0,y.jsxs)("div",{className:"flex flex-col border w-full my-4 rounded bg-white",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,y.jsx)(T.Z,{animation:"wave",variant:"circular",width:40,height:40}),(0,y.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,y.jsx)(T.Z,{height:10,variant:"rectangular",width:"25%",animation:"wave"}),(0,y.jsx)(T.Z,{height:10,variant:"rectangular",width:"20%",animation:"wave"})]})]}),(0,y.jsx)(T.Z,{sx:{height:520},animation:"wave",variant:"rectangular"})]})},_=function(){var e=(0,i.I0)(),t=(0,a.useState)([]),s=(0,r.Z)(t,2),d=s[0],m=s[1],f=(0,a.useState)(!1),x=(0,r.Z)(f,2),p=x[0],h=x[1],b=(0,a.useState)(2),j=(0,r.Z)(b,2),g=j[0],v=j[1],w=(0,i.v9)((function(e){return e.postOfFollowing})),N=w.loading,Z=w.error,S=w.posts,T=w.totalPosts,_=(0,i.v9)((function(e){return e.likePost})),F=_.error,I=_.message,M=_.success,O=(0,i.v9)((function(e){return e.newComment})),P=O.error,D=O.success,L=(0,i.v9)((function(e){return e.savePost})),R=L.error,B=L.success,H=L.message;(0,a.useEffect)((function(){Z&&(c.Am.error(Z),e((0,l.b9)())),e((0,l.xm)()),e({type:o.T_})}),[e,Z]),(0,a.useEffect)((function(){F&&(c.Am.error(F),e((0,l.b9)())),M&&(c.Am.success(I),e({type:o.c2})),P&&(c.Am.error(P),e((0,l.b9)())),D&&(c.Am.success("Comment Added"),e({type:o.j4})),R&&(c.Am.error(R),e((0,l.b9)())),B&&(c.Am.success(H),e({type:o.Y9}))}),[e,M,F,I,P,D,R,B,H]);return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"flex flex-col w-full lg:w-2/3 sm:mt-6 sm:px-8 mb-8",children:[(0,y.jsx)(A,{}),N&&Array(5).fill("").map((function(e,t){return(0,y.jsx)(E,{},t)})),(0,y.jsx)(C.Z,{dataLength:S.length,next:function(){v((function(e){return e+1})),e((0,l.xm)(g))},hasMore:S.length!==T,loader:(0,y.jsx)(U.Z,{}),children:(0,y.jsx)("div",{className:"w-full h-full mt-1 sm:mt-6 flex flex-col space-y-4",children:null===S||void 0===S?void 0:S.map((function(e){return(0,y.jsx)(k,(0,n.Z)((0,n.Z)({},e),{},{setUsersDialog:h,setUsersList:m}),e._id)}))})}),(0,y.jsx)(u.Z,{title:"Likes",open:p,onClose:function(){return h(!1)},usersList:d})]})})},F=s(37689),I=s(38278),M=s(56503),O=function(e){var t=e._id,s=e.username,n=e.avatar,c=(0,i.I0)(),l=(0,a.useState)(!1),o=(0,r.Z)(l,2),u=o[0],d=o[1];return(0,y.jsxs)("div",{className:"flex justify-between items-center",children:[(0,y.jsxs)("div",{className:"flex space-x-3 items-center",children:[(0,y.jsx)(x.rU,{to:"/".concat(s),children:(0,y.jsx)("img",{draggable:"false",className:"w-9 h-9 rounded-full object-cover",src:n,alt:"avatar"})}),(0,y.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,y.jsx)(x.rU,{to:"/".concat(s),className:"text-black text-sm font-semibold hover:underline",children:s}),(0,y.jsx)("span",{className:"text-gray-400 text-xs",children:"New to Instagram"})]})]}),(0,y.jsx)("button",{onClick:function(){d(!u),c((0,F.P_)(t))},className:"".concat(u?"text-red-500":"text-blue-500"," text-xs font-medium"),children:u?"Unfollow":"Follow"})]})},P=function(){var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.user})).user,s=(0,i.v9)((function(e){return e.allUsers})),r=s.error,l=s.users,o=s.loading,u=(0,i.v9)((function(e){return e.followUser})),d=u.error,m=u.success,f=u.message;return(0,a.useEffect)((function(){r&&(c.Am.error(r),e((0,F.b9)())),e((0,F.mf)())}),[e,r]),(0,a.useEffect)((function(){d&&(c.Am.error(d),e((0,F.b9)())),m&&(c.Am.success(f),e({type:I.y9}))}),[m,d]),(0,y.jsx)("div",{className:"fixed lg:right-32 xl:right-56 w-3/12 h-full hidden lg:flex flex-col flex-auto m-8 mt-12 pr-8 -z-1",children:(0,y.jsxs)("div",{className:"ml-10 flex flex-col p-2",children:[(0,y.jsxs)("div",{className:"flex justify-between items-center",children:[(0,y.jsxs)("div",{className:"flex flex-auto space-x-4 items-center",children:[(0,y.jsx)(x.rU,{to:"/".concat(t.username),children:(0,y.jsx)("img",{draggable:"false",className:"w-14 h-14 rounded-full object-cover",src:t.avatar,alt:t.name})}),(0,y.jsxs)("div",{className:"flex flex-col",children:[(0,y.jsx)(x.rU,{to:"/".concat(t.username),className:"text-black text-sm font-semibold",children:t.username}),(0,y.jsx)("span",{className:"text-gray-400 text-sm",children:t.name})]})]}),(0,y.jsx)("span",{className:"text-blue-500 text-xs font-semibold cursor-pointer",children:"Switch"})]}),(0,y.jsxs)("div",{className:"flex justify-between items-center mt-5",children:[(0,y.jsx)("p",{className:"font-semibold text-gray-500 text-sm",children:"Suggestions For You"}),(0,y.jsx)("span",{className:"text-black text-xs font-semibold cursor-pointer",children:"See All"})]}),(0,y.jsx)("div",{className:"flex flex-col flex-auto mt-3 space-y-3.5",children:o?Array(5).fill("").map((function(e,t){return(0,y.jsx)(M.Z,{},t)})):null===l||void 0===l?void 0:l.map((function(e){return(0,a.createElement)(O,(0,n.Z)((0,n.Z)({},e),{},{key:e._id}))}))}),(0,y.jsxs)("div",{className:"flex flex-col mt-8 space-y-6 text-xs text-gray-400",children:[(0,y.jsxs)("div",{className:"flex flex-col",children:[(0,y.jsx)("div",{className:"flex items-center space-x-1.5",children:["About","Help","Press","API","Jobs","Privacy","Terms","Locations"].map((function(e,t){return(0,y.jsx)("a",{href:"#",children:e},t)}))}),(0,y.jsx)("div",{className:"flex items-center space-x-1.5",children:["Top Accounts","Hashtags","Language"].map((function(e,t){return(0,y.jsx)("a",{href:"#",children:e},t)}))})]}),(0,y.jsxs)("span",{children:["\xa9 ",(new Date).getFullYear()," INSTAGRAM FROM META"]})]})]})})},D=s(6038),L=function(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(D.Z,{title:"Instagram"}),(0,y.jsxs)("div",{className:"flex h-full md:w-4/5 lg:w-4/6 mt-14 mx-auto",children:[(0,y.jsx)(_,{}),(0,y.jsx)(P,{})]})]})}},56503:function(e,t,s){"use strict";var n=s(47047),r=s(80184);t.Z=function(){return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(n.Z,{animation:"wave",variant:"circular",width:45,height:40}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsx)(n.Z,{height:15,variant:"rectangular",width:"60%",animation:"wave"}),(0,r.jsx)(n.Z,{height:12,variant:"rectangular",width:"30%",animation:"wave"})]})]})}},53585:function(e,t,s){"use strict";s.d(t,{O:function(){return r},Q:function(){return n}});var n="https://instagrammern.herokuapp.com",r=[{title:"JavaScript",image:"javascript"},{title:"Node.js",image:"nodejs"},{title:"Express.js",image:"expressjs"},{title:"MongoDB",image:"mongodb"},{title:"React.js",image:"reactjs"},{title:"Socket.io",image:"socketio"},{title:"TailwindCSS",image:"tailwind"},{title:"Heroku",image:"heroku"},{title:"MaterialUI",image:"mui"},{title:"Redux",image:"redux"},{title:"Multer",image:"multer"},{title:"AWS S3",image:"aws-s3"},{title:"Sendgrid",image:"sendgrid"},{title:"Axios",image:"axios"},{title:"Toastify",image:"toastify"}]},17487:function(e,t,s){var n={"./aws-s3.webp":53187,"./axios.webp":23667,"./expressjs.webp":74033,"./heroku.webp":14876,"./javascript.webp":44338,"./mongodb.webp":15735,"./mui.webp":25916,"./multer.webp":78501,"./nodejs.webp":9562,"./reactjs.webp":64489,"./redux.webp":21409,"./sendgrid.webp":41207,"./socketio.webp":2354,"./tailwind.webp":38970,"./toastify.webp":75889};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=17487},53187:function(e,t,s){"use strict";e.exports=s.p+"static/media/aws-s3.51640b4de3d80fb51823.webp"},23667:function(e,t,s){"use strict";e.exports=s.p+"static/media/axios.56fc2f13fcebf9762c0c.webp"},74033:function(e,t,s){"use strict";e.exports=s.p+"static/media/expressjs.a2e86fd3965b0781dc31.webp"},14876:function(e,t,s){"use strict";e.exports=s.p+"static/media/heroku.c2c5cccdafe77e3b59c0.webp"},44338:function(e,t,s){"use strict";e.exports=s.p+"static/media/javascript.70416db3411be6deeb08.webp"},15735:function(e,t,s){"use strict";e.exports=s.p+"static/media/mongodb.d753b795305bda0741bb.webp"},25916:function(e,t,s){"use strict";e.exports=s.p+"static/media/mui.c78de51d000137fbffd3.webp"},78501:function(e,t,s){"use strict";e.exports=s.p+"static/media/multer.c2a3c0310a42b05e0188.webp"},9562:function(e,t,s){"use strict";e.exports=s.p+"static/media/nodejs.90478dd570aa54a25de3.webp"},64489:function(e,t,s){"use strict";e.exports=s.p+"static/media/reactjs.67281ba7f66d2108f454.webp"},21409:function(e,t,s){"use strict";e.exports=s.p+"static/media/redux.51aa90023ce0ceaa0082.webp"},41207:function(e,t,s){"use strict";e.exports=s.p+"static/media/sendgrid.fce5f541441ff976d2dd.webp"},2354:function(e,t,s){"use strict";e.exports=s.p+"static/media/socketio.aafffdfd652a68a2d466.webp"},38970:function(e,t,s){"use strict";e.exports=s.p+"static/media/tailwind.89af3bced34f432936d5.webp"},75889:function(e,t,s){"use strict";e.exports=s.p+"static/media/toastify.08fda808d10d7ed9dada.webp"}}]);
//# sourceMappingURL=812.01810cb5.chunk.js.map